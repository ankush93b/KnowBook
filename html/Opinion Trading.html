<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpaceX</title><!--1. Enter tile-->
  <link rel="icon" href="../kb_logo.png" sizes="any" />
   <style>
    /* General Body Styling */
    * {
  box-sizing: border-box;
}
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: transparent;
  color: rgba(59, 122, 167, 0.9);
  margin: 0;
  padding: 0px 10px;
  line-height: 1.6;
}
ul{
  color: #000;
}

/* Main Content */
.main-content {
  margin: 0 auto;
  padding: 0px 10px;
  max-width: 100%;
}

/* Margin-left only for wide screens when sidebar is visible */
@media (min-width: 769px) {
  .main-content {
    margin-left: 250px;
    padding: 0px;
  }
}

/* Page Heading */
h1 {
  font-weight: 700;
  font-size: 2.0rem;
  margin-bottom: 0.2em;
  color: rgba(59, 122, 167, 1);
  text-align: left;
  margin-top: 0px;
}

/* Horizontal Rule */
hr {
  border: none;
  border-bottom: 2px solid rgba(87, 147, 131, 0.6);
  margin-bottom: 15px;
  width: auto;
  margin-left: auto;
  margin-right: auto;
  border-radius: 4px;
}

/* Links */
a {
  color: blue;
  text-decoration: none;
  
}

a:hover {
  
  text-decoration: underline;
}

#sidelogo {
  max-width: 100px;
  max-height: 100px;
  display: block;
  margin: 0 auto;
  padding: 0;
  border: 0;
  vertical-align: middle;
}
#profilepic{
  max-width: 210px;
  display: block;
  margin: 0 auto;
  padding: 0;
  border: 0;
  vertical-align: middle;

}
.imagecaption
{
  font-size: 12px;
  text-align: center;
  color: black;
}
/* Sidebar */
.sidebar {
  width: 250px;
  background-color: #f2f2f2;
  padding: 20px;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  overflow-y: auto;
  border-right: 1px solid #ccc;
  transition: transform 0.3s ease;
}

.sidebar h2 {
  font-size: 20px;
  margin-top: 0;
}

.sidebar ul {
  list-style-type: none;
  padding: 0;
}

.sidebar ul li {
  margin: 10px 0;
}

.sidebar ul li a {
  text-decoration: none;
  color: #333;
}

.sidebar ul li a:hover {
  text-decoration: underline;
}

/* Header bar (e.g., for toggle menu) */
.header-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 0;
}

.header-bar h1 {
  font-weight: 700;
  font-size: 2.0rem;
  margin: 0;
  color: rgba(59, 122, 167, 1);
  text-align: left;
}



.menu-toggle {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  display: none;
}

/* Close button */
.close-btn {
  display: none;
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 28px;
  color: red;
  cursor: pointer;
  font-weight: bold;
}

@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
    width: 220px;
    height: 100%;
    padding: 20px;
  }

  .sidebar.open {
    transform: translateX(0);
    position: fixed;
    z-index: 999;
    background-color: #f2f2f2;
  }

  .main-content {
    margin-left: 0;
    padding: 0px 5px;
  }

  .menu-toggle {
    display: inline;
  }

  .close-btn {
    display: block;
  }
}

/* Info List in Sidebar */
.info-list {
  margin-top: 18px;
  color: black;
  display: inline-block;
  text-align: center;
  width: 100%;
  max-width: 220px;
}

.info-row {
  margin-bottom: 5px;
  padding-bottom: 5px;
  border-bottom: 1px solid #ccc;
  width: 90%;
  margin: 0 auto 5px auto;
}

.info-row:last-child {
  border-bottom: none;
}

.title {
  font-weight: 700;
  font-size: 13px;
  margin-bottom: 4px;
}

.value {
  font-weight: 400;
  font-size: 15px;
  color: #555;
  word-wrap: break-word;
}


/*collage styles*/
#fileInput {
    margin-bottom: 15px;
  }

  #collage {
    column-count: 4;
    column-gap: 10px;
  }
  @media (max-width: 1200px) {
  #collage { column-count: 3; }
  }

  @media (max-width: 768px) {
  #collage { column-count: 2; }
  }

  @media (max-width: 480px) {
  #collage { column-count: 1; }
  }

  .collage-image {
    max-width: 100%;
    margin-bottom: 10px;
    cursor: pointer;
    display: block;
    break-inside: avoid;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    transition: transform 0.2s ease;
  }

  .collage-image:hover {
    
  }

  /* Modal Styles */
  #zoomModal {
    display: none; /* HIDDEN BY DEFAULT */
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.85);
    justify-content: center;
    align-items: center;
    z-index: 1000;
    overflow: hidden;
    
  }

  .zoom-image-container {
    position: relative;
    display: flex;
    align-items: left;
    max-width: 90vw;
    max-height: 80vh;
  }

  #zoomedImage {
    max-width: 100%;
    max-height: 80vh;
    cursor: grab;
    user-select: none;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.7);
    transition: transform 0.2s ease;
  }

  #zoomedImage:active {
    cursor: grabbing;
    transition: none;
  }

  .button-group {
    display: flex;
    flex-direction: column;
    margin-left: 12px; /* initial gap */
  }

  .side-btn {
    background-color: #4f4d4d;
    border: none;
    color: white;
    padding-bottom: 2px;
    margin: 5px 0px;
    border-radius: 50%;
    font-size: 17px;
  
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    user-select: none;
    width: 30px;
    height: 30px;
    line-height: 0px;
    text-align: center;
    justify-content: center;
  }

  .side-btn:hover {
    background-color: #2e2d2d;
  }

  #zoomCaption {
    max-width: 300px;
    margin-top: 12px;
    font-size: 14px;
    text-align: left;
    color: rgba(255, 255, 255, 0.85);
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.7);
    font-style: italic;
    user-select: none;
  }

  #zoomCaption::before {
    content: "ðŸ“Œ ";
    margin-right: 0;
    margin-left: 0;
    padding: 0;
  }

  
  
   </style>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <span class="close-btn" onclick="closeSidebar()">Ã—</span>
    <img id="sidelogo" src=""><!--add logo OR-->
    <img id="profilepic" src=""><!--add profile pic-->
      <div class="imagecaption"></div><!--give caption-->
   
      <div class="info-list">
        <div class="info-row">
          <div class="title">Nothing Here</div><!--add in side bar title-->
          <div class="value"></div><!--add in side bar value-->
        </div> 
      </div>      
  </div>   
  

  <div class="main-content">
    <div class="header-bar">
    <button class="menu-toggle" onclick="toggleSidebar()">&#9776;</button>
    <h1>SpaceX</h1>
    </div><!--add main header-->
    <hr> 
    <div id="collage"></div>

<div id="zoomModal">
  <div class="zoom-image-wrapper">
    <div class="zoom-image-container">
      <img id="zoomedImage" src="" alt="Zoomed View" />
      <div class="button-group">
        <button class="side-btn" title="Close" id="closeBtn">Ã—</button>
        <button class="side-btn" title="Zoom In" id="zoomInBtn">+</button>
        <button class="side-btn" title="Zoom Out" id="zoomOutBtn">âˆ’</button>
        <button class="side-btn" title="Reset Zoom" id="resetZoomBtn">âŸ³</button>
      </div>  
    </div>
    <div id="zoomCaption"></div>
  </div>
</div>
  
<script>
  /* THIS IS SIDE BAR SCRIPT  */
const sidebar = document.getElementById('sidebar');

    function toggleSidebar() {
      sidebar.classList.toggle('open');
    }

    function closeSidebar() {
      sidebar.classList.remove('open');
    }

    // Close sidebar when clicking outside
    document.addEventListener('click', function (event) {
      const isInsideSidebar = sidebar.contains(event.target);
      const isMenuButton = event.target.classList.contains('menu-toggle');
      if (!isInsideSidebar && !isMenuButton && sidebar.classList.contains('open')) {
        closeSidebar();
      }
    });

/*COLLAGE SCRIPT */

  const collage = document.getElementById('collage');
  const zoomModal = document.getElementById('zoomModal');
  const zoomedImage = document.getElementById('zoomedImage');
  const zoomCaption = document.getElementById('zoomCaption');

  const closeBtn = document.getElementById('closeBtn');
  const zoomInBtn = document.getElementById('zoomInBtn');
  const zoomOutBtn = document.getElementById('zoomOutBtn');
  const resetZoomBtn = document.getElementById('resetZoomBtn');
  const buttonGroup = document.querySelector('.button-group');

  let currentScale = 1;
  const maxScale = 3;
  const minScale = 1;
  let translateX = 0, translateY = 0, isDragging = false, startX, startY;

  function updateButtonPosition() {
    const baseMargin = 12;
    const originalWidth = zoomedImage.clientWidth / currentScale;
    const scaledWidth = originalWidth * currentScale;
    const extraWidth = scaledWidth - originalWidth;
    buttonGroup.style.marginLeft = `${extraWidth + baseMargin}px`;
  }

  function applyTransform() {
    zoomedImage.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentScale})`;
    updateButtonPosition();
  }

  function applyScale(scale) {
    currentScale = Math.min(Math.max(scale, minScale), maxScale);
    if (currentScale === 1) {
      translateX = 0;
      translateY = 0;
    }
    applyTransform();
  }

  function onDragStart(e) {
    if (currentScale === 1) return;
    isDragging = true;
    startX = e.type.startsWith('touch') ? e.touches[0].clientX : e.clientX;
    startY = e.type.startsWith('touch') ? e.touches[0].clientY : e.clientY;
    zoomedImage.style.cursor = 'grabbing';
    e.preventDefault();
  }

  function onDragMove(e) {
    if (!isDragging) return;
    const currentX = e.type.startsWith('touch') ? e.touches[0].clientX : e.clientX;
    const currentY = e.type.startsWith('touch') ? e.touches[0].clientY : e.clientY;
    const dx = currentX - startX;
    const dy = currentY - startY;
    startX = currentX;
    startY = currentY;
    translateX += dx;
    translateY += dy;
    applyTransform();
  }

  function onDragEnd() {
    isDragging = false;
    zoomedImage.style.cursor = 'grab';
  }

  function showZoom(img) {
    currentScale = 1;
    translateX = 0;
    translateY = 0;
    zoomedImage.style.transformOrigin = "center center";
    zoomedImage.src = img.src;
    zoomCaption.textContent = img.getAttribute('data-caption');
    zoomModal.style.display = 'flex';
    buttonGroup.style.marginLeft = '12px';
    zoomedImage.style.transform = '';
  }

  // Attach drag and zoom handlers
  zoomedImage.addEventListener('mousedown', onDragStart);
  zoomedImage.addEventListener('touchstart', onDragStart, { passive: false });
  window.addEventListener('mousemove', onDragMove);
  window.addEventListener('touchmove', onDragMove, { passive: false });
  window.addEventListener('mouseup', onDragEnd);
  window.addEventListener('touchend', onDragEnd);
  window.addEventListener('touchcancel', onDragEnd);

  zoomInBtn.addEventListener('click', () => applyScale(currentScale + 0.2));
  zoomOutBtn.addEventListener('click', () => applyScale(currentScale - 0.2));
  resetZoomBtn.addEventListener('click', () => applyScale(1));
  closeBtn.addEventListener('click', () => {
    zoomModal.style.display = 'none';
    applyScale(1);
    zoomedImage.style.transform = '';
    buttonGroup.style.marginLeft = '12px';
  });

  zoomModal.addEventListener('click', (e) => {
    if (e.target === zoomModal) {
      zoomModal.style.display = 'none';
      applyScale(1);
      zoomedImage.style.transform = '';
      buttonGroup.style.marginLeft = '12px';
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      zoomModal.style.display = 'none';
      applyScale(1);
      zoomedImage.style.transform = '';
      buttonGroup.style.marginLeft = '12px';
    }
  });

  // You can now add images manually below:
  const images = [
    { src: "images/2.png", caption: "Falcon 9 launching Starlink" },
    { src: "images/3.png", caption: "Dragon spacecraft in orbit" },
    { src: "images/4.png", caption: "Starship SN20 test flight" },
    { src: "images/5.png", caption: "Starship SN20 test flight" },
    { src: "images/2.png", caption: "Falcon 9 launching Starlink" },
    { src: "images/3.png", caption: "Dragon spacecraft in orbit" },
    { src: "images/4.png", caption: "Starship SN20 test flight" },
    { src: "images/5.png", caption: "Starship SN20 test flight" }
  ];

  images.forEach(data => {
    const img = new Image();
    img.src = data.src;
    img.className = "collage-image";
    img.setAttribute("data-caption", data.caption);
    img.onclick = () => showZoom(img);
    collage.appendChild(img);
  });
</script>

</body>
</html>
